(this.webpackJsonplinni_cai_xinyu_dai_finalproject=this.webpackJsonplinni_cai_xinyu_dai_finalproject||[]).push([[0],{102:function(e,t,a){},139:function(e,t){},162:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),l=(a(102),a(6)),o="login requested",u="logged in",s="logged out",m="already logged in",E="logged non exist user failure",d="logged invalid password failure",f="network error",p="signed up closed",g="signed up success",b="signed up requested",v="network error",y="log in",h="sign up",O="invalid",j="lobby",N="game",S="lose",T="win",_="in progress",I="Available",w="Pending",A="In a game",x="Connect to server",R="Wait for response",C="Receive invitation",k="Invitation accepted",F="Invitation declined",P=a(15),M=a(183),U=a(185),G=a(169),D=a(166),L=a(167),z=a(168),V=a(27),B=a(88),W=a(7),H={user:{},loginStatus:s,registerStatus:p,page:y,existingUsernames:[],onlinePlayers:{},notifications:[]},q={height:8,width:8,mines:10,status:_,board:[],pair:"",color:"",pairColor:""},Y={invitationTo:null,invitationFrom:null,status:null},K=Object(V.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_TO_LOGIN":return Object(W.a)(Object(W.a)({},e),{},{loginStatus:o});case"LOGIN_RESPONSE":return Object(W.a)(Object(W.a)({},e),{},{user:t.payload.user,loginStatus:t.payload.loginStatus,page:t.payload.page,registerStatus:p});case"SET_ONBOARDING_STATUS":return Object(W.a)(Object(W.a)({},e),{},{user:Object(W.a)(Object(W.a)({},e.user),{},{onboardingComplete:t.payload})});case"REQUEST_TO_REGISTER":return Object(W.a)(Object(W.a)({},e),{},{registerStatus:b});case"REGISTER_RESPONSE":return Object(W.a)(Object(W.a)({},e),{},{registerStatus:t.payload.registerStatus});case"GET_ALL_USERNAMES":return Object(W.a)(Object(W.a)({},e),{},{existingUsernames:t.payload.existingUsernames});case"SET_PAGE":return Object(W.a)(Object(W.a)({},e),{},{page:t.payload.page});case"UPDATE_PLAYERS":return Object(W.a)(Object(W.a)({},e),{},{onlinePlayers:t.payload.players});case"UPDATE_NOTIFICATIONS":return Object(W.a)(Object(W.a)({},e),{},{notifications:t.payload.notifications});case"LOGOUT":return H;case"UPDATE_WIN":return Object(W.a)(Object(W.a)({},e),{},{user:Object(W.a)(Object(W.a)({},e.user),{},{win:e.user.win+1})});case"UPDATE_LOSE":return Object(W.a)(Object(W.a)({},e),{},{user:Object(W.a)(Object(W.a)({},e.user),{},{lose:e.user.lose+1})});default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAME_STATUS":return Object(W.a)(Object(W.a)({},e),{},{status:t.payload.status});case"UPDATE_WIN":return Object(W.a)(Object(W.a)({},e),{},{status:T});case"UPDATE_LOSE":return Object(W.a)(Object(W.a)({},e),{},{status:S});case"SET_GAME_MINES":return Object(W.a)(Object(W.a)({},e),{},{mines:t.payload.mines});case"SET_GAME_BOARD":return Object(W.a)(Object(W.a)({},e),{},{board:t.payload.board});case"SET_GAME_PAIR":return Object(W.a)(Object(W.a)({},e),{},{pair:t.payload.pair});case"SET_GAME_COLOR":return Object(W.a)(Object(W.a)({},e),{},{color:t.payload.color});case"SET_GAME_PAIR_COLOR":return Object(W.a)(Object(W.a)({},e),{},{pairColor:t.payload.pairColor});case"GAME_OVER":return q;default:return e}},invitation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVITATION_SEND_TO_SERVER":return Object(W.a)(Object(W.a)({},e),{},{invitationFrom:t.payload.invitationFrom,invitationTo:t.payload.invitationTo,status:x});case"WAIT_FOR_RESPONSE":return Object(W.a)(Object(W.a)({},e),{},{status:R});case"RECEIVE_INVITATION":return Object(W.a)(Object(W.a)({},e),{},{invitationFrom:t.payload.invitationFrom,invitationTo:t.payload.invitationTo,status:C});case"INVITATION_ACCEPTED":return Object(W.a)(Object(W.a)({},e),{},{status:k});case"INVITATION_DECLINED":return Object(W.a)(Object(W.a)({},e),{},{status:F});case"CLOSE_INVITATION":return Object(W.a)({},Y);default:return e}}}),J=Object(V.d)(K,Object(V.a)(B.a)),Q=a(57),$=a(12),X=a(18),Z=a(21),ee=function(e){var t=""===e.value.color?"":"border-"+e.value.color;return r.a.createElement("div",{className:(!e.value.isRevealed&&e.value.isFlagged?"cell hidden":"cell"+(e.value.isRevealed?"":" hidden")+(e.value.isMine?" is-mine":"")+(e.value.isFlagged?" is-flag":""))+" "+t,onClick:e.onClick,onContextMenu:e.onContextMenu},e.value.isRevealed?e.value.isMine?r.a.createElement($.a,{icon:X.b,style:{fontSize:"1.7rem",color:"black"}}):0===e.value.neighbor?null:e.value.neighbor:e.value.isFlagged?r.a.createElement($.a,{icon:Z.a,className:"fa-flag-"+e.value.flagColor,style:{fontSize:"1.7rem"}}):null)},te=function(e,t){for(var a=[],n=0;n<t;n++){a.push([]);for(var r=0;r<e;r++)a[n][r]={x:n,y:r,isMine:!1,neighbor:0,isRevealed:!1,isEmpty:!1,isFlagged:!1,color:"",flagColor:""}}return a},ae=function(e,t,a,n){for(var r=0,c=0,i=0;i<a;)r=ce(e),c=ce(t),n[r][c].isMine||(n[r][c].isMine=!0,i++);return n},ne=function(e,t,a){for(var n=0;n<t;n++)for(var r=0;r<e;r++)a[n][r].isMine||function(){var c=0;re(e,t,a[n][r].x,a[n][r].y,a).forEach((function(e){e.isMine&&c++})),0===c&&(a[n][r].isEmpty=!0),a[n][r].neighbor=c}();return a},re=function(e,t,a,n,r){var c=[];return a>0&&c.push(r[a-1][n]),a<t-1&&c.push(r[a+1][n]),n>0&&c.push(r[a][n-1]),n<e-1&&c.push(r[a][n+1]),a>0&&n>0&&c.push(r[a-1][n-1]),a>0&&n<e-1&&c.push(r[a-1][n+1]),a<t-1&&n<e-1&&c.push(r[a+1][n+1]),a<t-1&&n>0&&c.push(r[a+1][n-1]),c},ce=function(e){return Math.floor((1e3*Math.random()+1)%e)},ie=function(){var e=Object(l.c)((function(e){return e.user.user.username})),t=Object(l.c)((function(e){return e.game.mines})),a=Object(l.c)((function(e){return e.game.board})),n=Object(l.c)((function(e){return e.game.pair})),c=Object(l.c)((function(e){return e.game.width})),i=Object(l.c)((function(e){return e.game.height})),o=Object(l.c)((function(e){return e.game.color})),u=Object(l.b)(),s=function(e,t){var a=[];return t.forEach((function(t){t.forEach((function(t){("mine"===e&&t.isMine||"flag"===e&&t.isFlagged||"hide"===e&&!t.isRevealed)&&a.push(t)}))})),a},m=function(e){return e.forEach((function(e){e.forEach((function(e){e.isRevealed=!0}))})),e},E=function(t){u(oe(t)),u(se(e)),u(me(n))},d=function(r,c){if(a[r][c].isRevealed||a[r][c].isFlagged)return null;var i=Object(Q.a)(a);return i[r][c].isMine?function(t){u(oe(t)),u(me(e)),u(se(n))}(i=m(i)):(i[r][c].isFlagged=!1,i[r][c].isRevealed=!0,i[r][c].color=o,i[r][c].isEmpty&&(i=f(r,c,i)),s("hide",i).length===t?(i=m(i),E(i)):void u(oe(i)))},f=function e(t,a,n){return re(c,i,t,a,n).forEach((function(t){t.isFlagged||t.isRevealed||!t.isEmpty&&t.isMine||(n[t.x][t.y].isRevealed=!0,t.isEmpty&&e(t.x,t.y,n))})),n},p=function(e,n,r){e.preventDefault();var c=t,i=Object(Q.a)(a);if(!i[n][r].isRevealed){if(i[n][r].isFlagged?(i[n][r].isFlagged=!1,i[n][r].flagColor="",c++):c>0&&(i[n][r].isFlagged=!0,i[n][r].flagColor=o,c--),0===c){var l=s("mine",i),d=s("flag",i);if(JSON.stringify(l)===JSON.stringify(d))return i=m(i),E(i)}u(oe(i)),u(ue(c))}};return r.a.createElement("div",{className:"board"},a.map((function(e){return e.map((function(t){return r.a.createElement("div",{key:t.x*e.length+t.y},r.a.createElement(ee,{onClick:function(){return d(t.x,t.y)},onContextMenu:function(e){return p(e,t.x,t.y)},value:t}),e[e.length-1]===t?r.a.createElement("div",null):"")}))})))},le=function(){return function(e,t,a){var n=te(e,t);return n=ae(e,t,a,n),n=ne(e,t,n)}(J.getState().game.width,J.getState().game.height,J.getState().game.mines)},oe=function(e){return function(t){return de(e)}},ue=function(e){return function(t){return fe(e)}},se=function(e){return function(t){pe(e)}},me=function(e){return function(t){ge(e)}},Ee=a(109).connect("minesweeper-7580.herokuapp.com",{secure:!0});Ee.on("online players update",(function(e){J.dispatch(Te(e))})),Ee.on("all notifications",(function(e){J.dispatch(_e(e))}));Ee.on("login response",(function(e){J.dispatch(ve(e))}));Ee.on("invitation accepted",(function(){J.dispatch(ke())})),Ee.on("invitation declined",(function(){J.dispatch(Fe())})),Ee.on("receiver offline",(function(){J.dispatch(Fe()),setTimeout((function(){return J.dispatch(Pe())}),1e3)})),Ee.on("receive invitation",(function(e){J.dispatch(xe(e))}));Ee.on("invitation released",(function(){J.dispatch(Pe())}));Ee.on("received start game request",(function(){J.dispatch(Pe()),J.dispatch(Ie(N))}));Ee.on("received close game request",(function(){J.dispatch(Ge()),J.dispatch(Ie(j))})),Ee.on("set pair up",(function(e){J.dispatch({type:"SET_GAME_PAIR",payload:{pair:e}})})),Ee.on("get init board",(function(){var e=le(),t=J.getState().game.mines,a=J.getState().game.status;Ee.emit("update pair board",e),Ee.emit("update pair mines",t),Ee.emit("update pair status",a)})),Ee.on("set pair board",(function(e){J.dispatch(function(e){return{type:"SET_GAME_BOARD",payload:{board:e}}}(e))})),Ee.on("set pair mines",(function(e){J.dispatch(function(e){return{type:"SET_GAME_MINES",payload:{mines:e}}}(e))})),Ee.on("set pair status",(function(e){J.dispatch(function(e){return{type:"SET_GAME_STATUS",payload:{status:e}}}(e))})),Ee.on("set current color",(function(e){J.dispatch(function(e){return{type:"SET_GAME_COLOR",payload:{color:e}}}(e))})),Ee.on("set pair color",(function(e){J.dispatch({type:"SET_GAME_PAIR_COLOR",payload:{pairColor:e}})}));var de=function(e){Ee.emit("update pair board",e)},fe=function(e){Ee.emit("update pair mines",e)},pe=function(e){Ee.emit("update win status",e)};Ee.on("updated win status",(function(){J.dispatch({type:"UPDATE_WIN"})}));var ge=function(e){Ee.emit("update lose status",e)};Ee.on("updated lose status",(function(){J.dispatch({type:"UPDATE_LOSE"})}));var be=function(e,t){return function(a){a({type:"REQUEST_TO_LOGIN"}),function(e,t){Ee.emit("request to login",e,t)}(e,t)}},ve=function(e){return{type:"LOGIN_RESPONSE",payload:{user:e.user,loginStatus:e.loginStatus,page:e.page}}},ye=function(){return{type:"LOGOUT"}},he=function(e){return function(t){!function(e){Ee.emit("logout",e),Ee.on("receive logout request",(function(){J.dispatch(ye())}))}(e)}},Oe=function(e,t){return function(a){a({type:"REQUEST_TO_REGISTER"}),function(e,t){Ee.emit("request to register",e,t),Ee.on("register response",(function(e){J.dispatch(je(e))}))}(e,t)}},je=function(e){return{type:"REGISTER_RESPONSE",payload:{registerStatus:e.registerStatus}}},Ne=function(){return function(e){Ee.emit("request all existing usernames"),Ee.on("all existing usernames",(function(e){J.dispatch(Se(e))}))}},Se=function(e){return{type:"GET_ALL_USERNAMES",payload:{existingUsernames:e}}},Te=function(e){return{type:"UPDATE_PLAYERS",payload:{players:e}}},_e=function(e){return{type:"UPDATE_NOTIFICATIONS",payload:{notifications:e}}},Ie=function(e){return{type:"SET_PAGE",payload:{page:e}}},we=function(e,t){return function(a){a(function(e,t){return{type:"INVITATION_SEND_TO_SERVER",payload:{invitationFrom:e,invitationTo:t}}}(e,t)),function(e,t){Ee.emit("send game invitation",e,t),Ee.on("successfully sent invitation to receiver",(function(){J.dispatch(Ae())}))}(e,t)}},Ae=function(){return{type:"WAIT_FOR_RESPONSE"}},xe=function(e){return{type:"RECEIVE_INVITATION",payload:{invitationFrom:e,invitationTo:J.getState().user.user.username}}},Re=function(e){return function(t){t(ke()),function(e){Ee.emit("accept invitation",e)}(e)}},Ce=function(e){return function(t){t(Fe()),function(e){Ee.emit("decline invitation",e)}(e)}},ke=function(){return{type:"INVITATION_ACCEPTED"}},Fe=function(){return{type:"INVITATION_DECLINED"}},Pe=function(){return{type:"CLOSE_INVITATION"}},Me=function(e,t){return function(a){!function(e,t){Ee.emit("start game",e,t)}(e,t)}},Ue=function(e,t){return function(a){!function(e,t){Ee.emit("release invitation",e,t)}(e,t)}},Ge=function(){return{type:"GAME_OVER"}},De=function(){var e=J.getState().user.user.username;return function(t){var a;a=e,Ee.emit("close game",a)}},Le=function(e){return{type:"SET_ONBOARDING_STATUS",payload:e}},ze=function(e,t){return function(a){!function(e,t){Ee.emit("update onboarding status",e,t),Ee.on("updated onboarding status",(function(){J.dispatch(Le(t))}))}(e,t)}},Ve=a(184),Be=a(164),We=a(165),He=function(){var e=Object(l.c)((function(e){return e.user.loginStatus}));return r.a.createElement(Ve.a,{centered:!0,className:"loading",isOpen:e===o},r.a.createElement(Be.a,null,r.a.createElement(We.a,{className:"spinner",color:"info",size:"xl"}),r.a.createElement("p",null,"Verifying... please hold")))},qe=!1,Ye=function(){var e=Object(n.useState)(Ct),t=Object(P.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(Ct),s=Object(P.a)(i,2),p=s[0],g=s[1],b=Object(n.useState)(!1),v=Object(P.a)(b,2),y=v[0],O=v[1],j=Object(l.c)((function(e){return e.user.loginStatus})),N=Object(l.b)(),S=a.length>0&&p.length>0,T=function(){O(!0),qe=!1,c(Ct),g(Ct)};Object(n.useEffect)((function(){if(y){var e=setTimeout((function(){return O(!1)}),Rt);return function(){return clearTimeout(e)}}}),[y]);var _=function(){N(be(a,p)),T()},I=function(e){13===e.keyCode&&(e.preventDefault(),_())};return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:"margin-auto margin-top-4 login-width"},r.a.createElement(U.a.Header,{className:"text-center text-dark"},r.a.createElement("h1",null,"Please sign in")),r.a.createElement(U.a.Body,null,y&&r.a.createElement(D.a,{className:"margin-bottom-1"},r.a.createElement(L.a,{sm:1}),r.a.createElement(L.a,{sm:10},function(){if(!qe){if(j===f)return r.a.createElement(M.a,{variant:"danger"},"Unable to connect to the server! Please check your internet connection and try again.");if(j===E)return r.a.createElement(M.a,{variant:"danger"},"This user has not been signed up, please sign up with it or login with another user.");if(j===d)return r.a.createElement(M.a,{variant:"danger"},"This password does not match with this user! Please try again.");if(j===u)return r.a.createElement(M.a,{variant:"success"},"Successfully logged in!");if(j===m)return r.a.createElement(M.a,{variant:"danger"},"Oooops! You've already logged in somewhere.")}}()),r.a.createElement(L.a,{sm:1})),r.a.createElement(D.a,null,r.a.createElement(L.a,{md:1,xs:0}),r.a.createElement(L.a,{md:10,xs:12},r.a.createElement(z.a,{type:"text",id:"username",className:"input-size",name:"username",value:a,onKeyUp:function(e){return I(e)},"aria-label":"input-username",placeholder:"Username",onChange:function(e){qe=!0,c(e.target.value)}})),r.a.createElement(L.a,{md:1,xs:0})),r.a.createElement("br",null),r.a.createElement(D.a,null,r.a.createElement(L.a,{md:1,xs:0}),r.a.createElement(L.a,{md:10,xs:12},r.a.createElement(z.a,{type:"password",id:"password",className:"input-size",name:"password",value:p,onKeyUp:function(e){return I(e)},"aria-label":"input-password",placeholder:"Password",onChange:function(e){qe=!0,g(e.target.value)}})),r.a.createElement(L.a,{md:1,xs:0}))),r.a.createElement(U.a.Footer,null,r.a.createElement(D.a,null,r.a.createElement(L.a,{md:1,xs:0}),r.a.createElement(L.a,{md:10,xs:12},r.a.createElement(G.a,{disabled:!S,className:"login-button-margin login-font-size input-size",block:!0,variant:"primary",onClick:function(e){return _()}},"Sign In")),r.a.createElement(L.a,{md:1,xs:0})),r.a.createElement(D.a,null,r.a.createElement(L.a,{sm:12},r.a.createElement(G.a,{variant:"light",className:"text-primary link-style",block:!0,onClick:function(){return N(Ie(h))}},"Don't have an account? Create one now."))))),j===o&&r.a.createElement(He,null))},Ke=a(170),Je=!1,Qe=function(e,t){return t.includes(e)},$e=function(){var e=Object(n.useState)(Ct),t=Object(P.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(Ct),o=Object(P.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(Ct),E=Object(P.a)(m,2),d=E[0],f=E[1],p=Object(n.useState)(!1),h=Object(P.a)(p,2),O=h[0],j=h[1],N=Object(l.c)((function(e){return e.user.registerStatus})),S=Object(l.c)((function(e){return e.user.existingUsernames})),T=Object(l.b)(),_=a.length>0&&u.length>0&&u===d;Object(n.useEffect)((function(){T(Ne())}),[a,T]),Object(n.useEffect)((function(){if(O){var e=setTimeout((function(){return j(!1)}),Rt);return function(){return clearTimeout(e)}}}),[O]);var I=function(){Je=!1,j(!0),T(Oe(a,d)),setTimeout((function(){T(be(a,d)),c(Ct),s(Ct),f(Ct)}),Rt)},w=function(e){13===e.keyCode&&(e.preventDefault(),I())};return r.a.createElement(U.a,{className:"margin-auto margin-top-4 sign-width"},r.a.createElement(U.a.Header,{className:"text-center text-dark"},r.a.createElement("h1",null,"Create your account")),r.a.createElement(U.a.Body,null,O&&r.a.createElement(D.a,{className:"margin-bottom-1"},r.a.createElement(L.a,{xl:4,lg:3,sm:0}),r.a.createElement(L.a,{xl:6,lg:9,sm:12},function(){if(!Je){if(N===v)return r.a.createElement(M.a,{variant:"danger"},"Unable to connect to the server! Please check your internet connection and try again.");if(N===g)return r.a.createElement(M.a,{variant:"success"},"Successfully signed up! Directing you to the lobby...")}}()),r.a.createElement(L.a,{xl:2})),N===b&&r.a.createElement(D.a,{className:"margin-bottom-1 margin-auto"},r.a.createElement(L.a,{sm:4}),r.a.createElement(L.a,{sm:4},r.a.createElement(We.a,{color:"success",style:{width:"6rem",height:"6rem"}})),r.a.createElement(L.a,{sm:4})),r.a.createElement(D.a,null,r.a.createElement(L.a,{sm:1}),r.a.createElement(L.a,{sm:10},r.a.createElement(z.a,{type:"text",id:"username",name:"username",value:a,className:"input-size",onKeyUp:function(e){return w(e)},"aria-label":"input-username",valid:a.length>0&&!Qe(a,S),invalid:Qe(a,S),onChange:function(e){Je=!0,c(e.target.value)},placeholder:"Username"}),r.a.createElement(Ke.a,{valid:!0},"Sweet! that username is available "),r.a.createElement(Ke.a,null,"Oh noes! that name is already taken")),r.a.createElement(L.a,{sm:1})),r.a.createElement("br",null),r.a.createElement(D.a,null,r.a.createElement(L.a,{sm:1}),r.a.createElement(L.a,{sm:10},r.a.createElement(z.a,{type:"password",id:"password1",className:"input-size",name:"password",value:u,onKeyUp:function(e){return w(e)},"aria-label":"input-password",placeholder:"Password",onChange:function(e){Je=!0,s(e.target.value)}})),r.a.createElement(L.a,{sm:1})),r.a.createElement("br",null),r.a.createElement(D.a,null,r.a.createElement(L.a,{sm:1}),r.a.createElement(L.a,{sm:10},r.a.createElement(z.a,{type:"password",id:"password2",className:"input-size",name:"password",value:d,onKeyUp:function(e){return w(e)},"aria-label":"input-password",placeholder:"Confirm your password",invalid:d.length>0&&u!==d,onChange:function(e){Je=!0,f(e.target.value)}}),r.a.createElement(Ke.a,null,"Password doesn't match.")),r.a.createElement(L.a,{sm:1}))),r.a.createElement(U.a.Footer,null,r.a.createElement(D.a,null,r.a.createElement(L.a,{sm:1}),r.a.createElement(L.a,{sm:10},r.a.createElement(G.a,{disabled:!_,className:"login-button-margin login-font-size input-size",block:!0,variant:"primary",onClick:function(){return I()}},"Finish")),r.a.createElement(L.a,{sm:1})),r.a.createElement(D.a,null,r.a.createElement(L.a,{sm:12},r.a.createElement(G.a,{variant:"light",className:"text-primary link-style",block:!0,onClick:function(){return T(Ie(y))}},"Already have an account? Sign in here.")))))},Xe=a(171),Ze=a(172),et=function(){var e=Object(l.b)();return r.a.createElement(U.a,{className:"text-light margin-auto margin-top-5 login-bg-color"},r.a.createElement(U.a.Header,null),r.a.createElement(U.a.Body,null,r.a.createElement("h1",{className:"text-center"},"Invalid Page!"),r.a.createElement("br",null),r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{sm:4}),r.a.createElement(Ze.a,{sm:4},r.a.createElement(G.a,{block:!0,variant:"light",onClick:function(){return e(Ie(y))}},"Back To Login")),r.a.createElement(Ze.a,{sm:4}))),r.a.createElement(U.a.Footer,null))},tt=a(173),at=a(91),nt=function(){var e=Object(l.c)((function(e){return e.game.status})),t=Object(l.b)();return r.a.createElement(Ve.a,{centered:!0,isOpen:e!==_},e===T?r.a.createElement(Be.a,null,"Wooooo, you win!"):e===S?r.a.createElement(Be.a,null,"Game Over, you lose."):void 0,r.a.createElement(tt.a,null,r.a.createElement(at.a,{color:"success",onClick:function(){t(De())}},"Back Lobby")))},rt=function(e){return r.a.createElement("div",null,r.a.createElement($.a,{icon:Z.a,className:"fa-flag-"+e.color,style:{fontSize:"6rem",display:"block",margin:"auto"}}),r.a.createElement("h1",{style:{textAlign:"center"}},e.name))},ct=function(){var e=Object(l.c)((function(e){return e.game.pair})),t=Object(l.c)((function(e){return e.game.mines})),a=Object(l.c)((function(e){return e.game.status})),n=Object(l.c)((function(e){return e.game.color})),c=Object(l.c)((function(e){return e.game.pairColor}));return r.a.createElement(U.a,{className:"game-width"},r.a.createElement(U.a.Header,{className:"text-center display-4"},"Mines: "+t),r.a.createElement(U.a.Body,null,r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{md:4,xs:5},r.a.createElement(rt,{color:n,name:"ME"})),r.a.createElement(Ze.a,{md:4,xs:2}),r.a.createElement(Ze.a,{md:4,xs:5},r.a.createElement(rt,{color:c,name:e}))),r.a.createElement("div",{className:"game"},r.a.createElement(ie,null)),a!==_&&r.a.createElement(nt,null)),r.a.createElement(U.a.Footer,{className:"game-footer-font"},r.a.createElement("p",null,"Left click -> Reveal"),r.a.createElement("p",null,"First Right click -> Flag"),r.a.createElement("p",null,"Second Right click -> Unflag")))},it=function(e){return r.a.createElement("div",{className:"slide-"+e.slideStatus},e.children)},lt=function(e){return r.a.createElement("button",{className:"indicator",onClick:e.clickHandler},r.a.createElement("div",{className:"circle indicator-"+e.slideStatus}))},ot=function(){var e=Object(n.useState)(1),t=Object(P.a)(e,2),a=t[0],c=t[1],i=Object(l.c)((function(e){return e.user.user.username})),o=Object(l.b)(),u=function(e){return e===a?"active":"inactive"};return r.a.createElement("div",{className:"slides-bg"},r.a.createElement(it,{slideStatus:u(1),slideId:1},r.a.createElement("h3",null,"Feel bored? Find online players to play with the minesweeper game."),r.a.createElement("div",{className:"fit my-4"},r.a.createElement("img",{src:"/cs7580su20-seattle/linni_cai_xinyu_dai_finalproject/onboarding1.png",className:"img-fluid my-4 float-right fit",alt:"Find online players to play with the minesweeper game."}))),r.a.createElement(it,{slideStatus:u(2),slideId:2},r.a.createElement("h3",null,"Send invitation to your interested parterners."),r.a.createElement("p",null,"If the other player is unfortunately offline when requesting, you would be declined automatically."),r.a.createElement("div",{className:"fit my-4"},r.a.createElement("img",{src:"/cs7580su20-seattle/linni_cai_xinyu_dai_finalproject/onboarding2.png",className:"img-fluid",alt:"Click on the Send Invitation button would request game with the player."}))),r.a.createElement(it,{slideStatus:u(3),slideId:3},r.a.createElement("h3",null,"Minesweeper Expert? Two-player game now."),r.a.createElement("p",null,"Block: show the number of mines adjacent to the block"),r.a.createElement("p",null,"Flag: Put a flag in a zone when you have confirmed that there is a mine."),r.a.createElement("p",null,"**Important: this time you can unflag your parterner's if you have a more cautious conclusion."),r.a.createElement("div",{className:"fit my-4"},r.a.createElement("img",{src:"/cs7580su20-seattle/linni_cai_xinyu_dai_finalproject/onboarding3.png",className:"img-fluid",alt:"The job openings saved by more people would be ranked higher in the result."}))),r.a.createElement("div",{className:"slides-controls"},r.a.createElement("button",{className:"align-left control-btn",onClick:function(){return o(ze(i,!0))}},"Skip"),r.a.createElement("div",{className:"align-center"},function(){for(var e=[],t=function(t){e.push(r.a.createElement(lt,{slideStatus:u(t),key:t,slideID:t,clickHandler:function(){return c(t)}}))},a=1;a<=3;a++)t(a);return e}()),r.a.createElement("button",{className:"align-right control-btn",onClick:function(){a<3?c(a+1):o(ze(i,!0))}},a<3?"Next":"Done")))},ut=a(174),st=a(175),mt=a(176),Et=function(e){var t,a=Object(l.c)((function(e){return e.user.user.username})),n=Object(l.b)(),c=function(){n(we(a,e.player.username))};return r.a.createElement("tr",{className:"player-info "+(a===e.player.username?"player-border":"")},r.a.createElement("td",null,(t=e.player.username)===a?"Me("+t+")":t),r.a.createElement("td",null,e.player.win),r.a.createElement("td",null,e.player.lose),r.a.createElement("td",null,e.player.status),r.a.createElement("td",null,function(){if(e.player.username!==a){if(e.player.status===w)return r.a.createElement(at.a,{color:"warning",disabled:!0},e.player.status);if(e.player.status===A)return r.a.createElement(at.a,{color:"danger",disabled:!0},e.player.status);if(e.player.status===I)return r.a.createElement(at.a,{color:"success",onClick:function(){return c()}},"Send Invitation")}}()))},dt=function(){var e=Object(l.c)((function(e){return e.user.onlinePlayers}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut.a,{className:"online-player-frame"},r.a.createElement(ut.a,{style:{color:"rosybrown"},className:"margin-bottom-half"},r.a.createElement(st.a,{tag:"h3",className:"bold text-centered"},"ONLINE Players")),r.a.createElement(mt.a,{className:"my-2"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Player"),r.a.createElement("th",null,"Win"),r.a.createElement("th",null,"Lose"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,Object.keys(e).map((function(t,a){return r.a.createElement(Et,{key:"player-".concat(a),player:e[t]})}))))))},ft=a(177),pt=function(){var e=Object(l.c)((function(e){return e.user.user.username})),t=Object(l.c)((function(e){return e.invitation.invitationTo})),a=Object(l.c)((function(e){return e.invitation.invitationFrom})),n=Object(l.c)((function(e){return e.invitation.status}));return r.a.createElement(Ve.a,{centered:!0,isOpen:e===a},r.a.createElement(ft.a,null,"Sent Invitation"),function(){switch(n){case x:return r.a.createElement(Be.a,null,r.a.createElement(We.a,{color:"success"}),"Sending your invatation to server ...");case R:return r.a.createElement(Be.a,null,r.a.createElement("span",{className:"bold"},t)," has received your invatation. ",r.a.createElement("br",null),"Waiting for ",r.a.createElement("span",{className:"bold"},t),"'s response.");case k:return r.a.createElement(Be.a,null,"Congrats! You paired up with ",r.a.createElement("span",{className:"bold"},t),". ",r.a.createElement("br",null),"Enjoy the game.");case F:return r.a.createElement(Be.a,null,"Ooops, ",r.a.createElement("span",{className:"bold"},t)," has other plans. ",r.a.createElement("br",null),"Head you to the lobby ^^");default:return""}}())},gt=function(){var e=Object(l.c)((function(e){return e.user.user.username})),t=Object(l.c)((function(e){return e.invitation.invitationTo})),a=Object(l.c)((function(e){return e.invitation.invitationFrom})),n=Object(l.c)((function(e){return e.invitation.status})),c=Object(l.b)();return r.a.createElement(Ve.a,{centered:!0,isOpen:e===t},r.a.createElement(ft.a,null,"New Invitation"),function(){switch(n){case C:return r.a.createElement(Be.a,null,"You received an invitation from ",r.a.createElement("span",{className:"bold"},a),".");case k:return r.a.createElement(Be.a,null,"You accepted ",r.a.createElement("span",{className:"bold"},a),"'s invitation. ",r.a.createElement("br",null),"Head you to the game. Enjoy!");case F:return r.a.createElement(Be.a,null,"You declined ",r.a.createElement("span",{className:"bold"},a),"'s invitation. Head you to the lobby to find your opponent.");default:return""}}(),n===C&&r.a.createElement(tt.a,null,r.a.createElement(at.a,{color:"success",onClick:function(){return c(Re(a)),void setTimeout((function(){return c(Me(a,t))}),1e3)}},"Accept")," ",r.a.createElement(at.a,{color:"secondary",onClick:function(){return c(Ce(a)),void setTimeout((function(){return c(Ue(a,t),3e3)}))}},"Decline")))},bt=a(178),vt=function(e){return r.a.createElement("div",null,r.a.createElement(ut.a,{className:"boarder-color-secondary"},r.a.createElement(st.a,null,e.notification.type," ",new Date(e.notification.time).toLocaleString()),r.a.createElement(bt.a,null,e.notification.content)))},yt=a(179),ht=a(180),Ot=function(){var e=Object(l.c)((function(e){return e.user.notifications}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut.a,{body:!0,outline:!0,className:"system-notification-frame"},r.a.createElement(ut.a,{style:{color:"rosybrown"},className:"margin-bottom-half"},r.a.createElement(st.a,{tag:"h3",className:"bold text-centered"},"SYSTEM Notificition")),r.a.createElement(yt.a,{color:"secondary",className:"margin-bottom-half"},"latest notifications"),r.a.createElement(ht.a,{className:"notification-list"},function(e){return e.sort((function(e,t){return t.time-e.time}))}(e).map((function(e,t){return r.a.createElement(vt,{key:"msg-".concat(t),index:t,notification:e})})))))},jt=function(){return r.a.createElement(D.a,{className:"homepage-intro margin-bottom-1"},r.a.createElement(L.a,{md:{size:10,offset:1}},r.a.createElement("p",null,r.a.createElement($.a,{icon:X.b}),r.a.createElement("span",{className:"left-padding"},r.a.createElement("strong",null,"LEFT click")," to reveal a zone you regard safe. ")),r.a.createElement("p",null,r.a.createElement($.a,{icon:Z.a}),r.a.createElement("span",{className:"left-padding"},r.a.createElement("strong",null,"RIGHT click")," to put a flag in a zone when you have confirmed that there is a mine.")),r.a.createElement("p",null,r.a.createElement($.a,{icon:X.d}),r.a.createElement("span",{className:"left-padding"},r.a.createElement("strong",null,"IMPORTANT"),": unflag a zone of pair's if you have different opinions.")),r.a.createElement("p",null,r.a.createElement($.a,{icon:X.e}),r.a.createElement("span",{className:"left-padding"},r.a.createElement("strong",null,"WIN"),": if all unrevealed cells are the same number of remaining mines, you win!"))))},Nt=function(){var e=Object(l.c)((function(e){return e.user.user.username})),t=Object(l.c)((function(e){return e.invitation.invitationFrom})),a=Object(l.c)((function(e){return e.invitation.invitationTo}));return Object(l.c)((function(e){return e.user.user.onboardingComplete}))?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,null,r.a.createElement(L.a,null,r.a.createElement(jt,null))),r.a.createElement(D.a,null,r.a.createElement(L.a,{xs:"12",md:"5"},r.a.createElement(Ot,null)),r.a.createElement(L.a,{xs:"12",md:"7"},r.a.createElement(dt,null),e===t?r.a.createElement(pt,null):e===a?r.a.createElement(gt,null):""))):r.a.createElement(ot,null)},St=a(181),Tt=a(186),_t=a(187),It=a(182),wt=function(){var e=Object(n.useState)(!1),t=Object(P.a)(e,2),a=t[0],c=t[1],i=Object(l.c)((function(e){return e.user.user.username})),o=Object(l.b)();return r.a.createElement(St.a,{isOpen:a,toggle:function(){return c((function(e){return!e}))}},r.a.createElement(Tt.a,{caret:!0},r.a.createElement($.a,{icon:X.a}),r.a.createElement("span",{className:"left-padding"},"Menu")),r.a.createElement(_t.a,null,r.a.createElement(It.a,{onClick:function(){o(ze(i,!1))}},r.a.createElement($.a,{icon:X.c}),r.a.createElement("span",{className:"left-padding"},"Help")),r.a.createElement(It.a,{divider:!0}),r.a.createElement(It.a,{onClick:function(){o(he(i))}},r.a.createElement($.a,{icon:X.f}),r.a.createElement("span",{className:"left-padding"},"Logout"))))},At=function(){var e=Object(l.c)((function(e){return e.user.page}));return r.a.createElement(D.a,{className:"homepage-header text-left"},r.a.createElement(L.a,{xs:"12",md:"9"},r.a.createElement("h4",null,r.a.createElement($.a,{className:"fa-flag-header",icon:Z.a}),r.a.createElement("span",{className:"left-padding"},"Minesweep!"))),r.a.createElement(L.a,{xs:"6",md:"3",align:"right",className:"menu"},e===j&&r.a.createElement(wt,null)),r.a.createElement(L.a,{xs:"12"},r.a.createElement("hr",null)))},xt=function(){var e=Object(l.c)((function(e){return e.user.page}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(At,null),function(){switch(e){case h:return r.a.createElement($e,null);case j:return r.a.createElement(Nt,null);case N:return r.a.createElement(ct,null);case O:return r.a.createElement(et,null);default:case y:return r.a.createElement(Ye,null)}}())},Rt=2e3,Ct="";Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,{store:J},r.a.createElement(xt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,a){e.exports=a(162)}},[[97,1,2]]]);
//# sourceMappingURL=main.b085c80a.chunk.js.map